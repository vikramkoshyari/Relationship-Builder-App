(this["webpackJsonprelationship-app"]=this["webpackJsonprelationship-app"]||[]).push([[0],{152:function(e,t,n){},153:function(e,t,n){},155:function(e,t){},228:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a,r=n(12),i=n(0),s=n.n(i),o=n(25),c=n.n(o),l=(n(152),n(47)),u=n(53),d=n(100),h=n(98),p=(n(153),n(154),n(82)),b=n(116),f=n(26),j=n.n(f),m=n(39),x=n(112),v=n.n(x),g=n(247),y=n(248),O=n(244),k=(n(156),0),w="",N=function(e){var t=e.editable,n=e.value,a=e.onChange;return Object(r.jsx)("div",{children:t?Object(r.jsx)(g.a,{style:{margin:"-5px 0"},value:n,onChange:function(e){return a(e.target.value)}}):n})},R=function(){var e=Object(m.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v()({url:"https://relationship-builder.herokuapp.com/tag/update/"+t+"/"+n,method:"post",success:function(e){console.log("success")}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={data:[],loading:!1},e.column=[{title:"Name",dataIndex:"name",sorter:function(e,t){return e.name.length-t.name.length},sortDirection:"descend",key:"name"},{title:"Relative",dataIndex:"relative_name",key:"relative"},{title:"Relationship Tag",dataIndex:"relation",key:"relation",render:function(t,n){return e.renderColumns(t,n,"relation")}},{title:"action",render:function(t,n){var a=n.editable;return Object(r.jsx)("div",{className:"editable-row-operations",children:a?Object(r.jsxs)("span",{children:[Object(r.jsx)("a",{onClick:function(){return e.save(n.id)},style:{marginRight:8},children:"Save"}),Object(r.jsx)(y.a,{title:"Sure to cancel?",onConfirm:function(){return e.cancel(n.id)},children:Object(r.jsx)("a",{children:"Cancel"})})]}):Object(r.jsx)("a",{onClick:function(){return e.edit(n.id)},children:"Edit"})})}}],e.fetch=Object(m.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0}),v()({url:"https://relationship-builder.herokuapp.com/",method:"get",type:"json"}).then((function(t){e.cacheData=t.map((function(e){return Object(b.a)({},e)})),e.setState({loading:!1,data:t})}));case 2:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.fetch()}},{key:"renderColumns",value:function(e,t,n){var a=this;return Object(r.jsx)(N,{editable:t.editable,value:e,onChange:function(e){return a.handleChange(e,t.id,n)}})}},{key:"handleChange",value:function(e,t,n){k=t,w=e;var a=Object(p.a)(this.state.data),r=a.filter((function(e){return t===e.id}))[0];r&&(r[n]=e,this.setState({data:a}))}},{key:"save",value:function(e){R(k,w);var t=Object(p.a)(this.state.data),n=t.filter((function(t){return e===t.id}))[0];n&&(delete n.editable,this.setState({data:t}),this.cacheData=t.map((function(e){return Object(b.a)({},e)})))}},{key:"cancel",value:function(e){var t=Object(p.a)(this.state.data),n=t.filter((function(t){return e===t.id}))[0];n&&(Object.assign(n,this.cacheData.filter((function(t){return e===t.id}))[0]),delete n.editable,this.setState({data:t}))}},{key:"edit",value:function(e){var t=Object(p.a)(this.state.data),n=t.filter((function(t){return e===t.id}))[0];n&&(n.editable=!0,this.setState({data:t}))}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.loading;return Object(r.jsx)("div",{className:"table",children:Object(r.jsx)(O.a,{columns:this.column,loading:n,dataSource:t,bordered:!0,size:"small"})})}}]),n}(i.Component),C=n(59),P=n(246),T=n(245),A=n(243),F=n(41),L=n(249),z=(n(228),n(30)),I=n.n(z),D=P.a.Title,_=P.a.Text,E=T.a.Item,q=function(){var e=[],t=T.a.useForm(),n=Object(C.a)(t,1)[0],a=Object(i.useState)({note:"",type:"",update:[]}),s=Object(C.a)(a,2),o=s[0],c=s[1],l=Object(i.useState)({loading:!1}),u=Object(C.a)(l,2),d=u[0],h=u[1],p=function(){var t=Object(m.a)(j.a.mark((function t(a){var r,i,s,o,l,u,d,p,b,f;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h({loading:!0}),c({note:""}),n.resetFields(),t.next=5,I.a.get("https://relationship-builder.herokuapp.com/table/persons");case 5:return r=t.sent,t.next=8,I.a.get("https://relationship-builder.herokuapp.com/table/relationship_type");case 8:return i=t.sent,t.next=11,I.a.get("https://relationship-builder.herokuapp.com/");case 11:if(e=t.sent,s=r.body,o=i.body,l=s.filter((function(e){return e.name==a.Name.trim()})),u=s.filter((function(e){return e.name==a.RelativeName.trim()})),d=o.filter((function(e){return e.relation==a.RelationTag.trim()})),0!=l.length){t.next=21;break}return console.log(a.Name+" is not in database add it right now"),t.next=21,I.a.post("https://relationship-builder.herokuapp.com/persons/"+a.Name.trim());case 21:if(0!=u.length){t.next=26;break}return console.log(a.RelativeName+" is not in databse add it right now"),t.next=25,I.a.post("https://relationship-builder.herokuapp.com/persons/"+a.RelativeName.trim());case 25:console.log("added successfully");case 26:if(0!=d.length){t.next=31;break}return console.log(a.RelationTag+" is not in db add it right now"),t.next=30,I.a.post("https://relationship-builder.herokuapp.com/relationship_type/"+a.RelationTag.trim());case 30:console.log("added successfullt");case 31:return p=e.body.filter((function(e){return e.name==a.Name.trim()&&e.relative_name==a.RelativeName.trim()})),t.next=34,I.a.get("https://relationship-builder.herokuapp.com/relationship_type/id/"+a.RelationTag.trim());case 34:if(b=t.sent,0!=p.length){t.next=44;break}return t.next=38,I.a.get("https://relationship-builder.herokuapp.com/persons/id/"+a.Name.trim()+"/"+a.RelativeName.trim());case 38:return f=t.sent,t.next=41,I.a.post("https://relationship-builder.herokuapp.com/relationship/"+f.body[0].id+"/"+f.body[1].id+"/"+b.body[0].id);case 41:c({note:"Relation Added Successfully",type:"success",update:e.body}),t.next=45;break;case 44:c({note:"Relation already exist if you want to change relation tag please edit it in table",type:"danger"});case 45:h({loading:!1});case 46:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"add-container",children:[Object(r.jsx)(S,{data:o.update}),Object(r.jsx)(A.a,{}),Object(r.jsx)(D,{children:"Add Relation"}),Object(r.jsxs)(T.a,{layout:"inline",onFinish:p,form:n,className:"center",children:[Object(r.jsx)(E,{name:"Name",rules:[{required:!0,message:"Please input your name!"}],children:Object(r.jsx)(g.a,{prefix:Object(r.jsx)(L.a,{style:{fontSize:13}}),placeholder:"Name",allowClear:"true"})}),Object(r.jsx)(E,{name:"RelativeName",rules:[{required:!0,message:"Please input your relative name!"}],children:Object(r.jsx)(g.a,{prefix:Object(r.jsx)(L.a,{style:{fontSize:13}}),placeholder:"Relative Name",allowClear:"true"})}),Object(r.jsx)(E,{name:"RelationTag",rules:[{required:!0,message:"Please input your relative Tag!"}],children:Object(r.jsx)(g.a,{prefix:Object(r.jsx)(L.a,{style:{fontSize:13}}),placeholder:"Relation Tag",allowClear:"true",enterButton:"true"})}),Object(r.jsx)(E,{children:Object(r.jsx)(F.a,{type:"primary",htmlType:"submit",loading:d.loading,children:"submit"})})]}),Object(r.jsx)(_,{type:o.type,children:o.note})]})},B=(n(240),function e(t){Object(l.a)(this,e),this.element=t,this.next=null}),U=function(){function e(){Object(l.a)(this,e),this.head=null,this.size=0}return Object(u.a)(e,[{key:"add",value:function(e){var t,n=new B(e);if(null==this.head)this.head=n;else{for(t=this.head;t.next;)t=t.next;t.next=n}this.size++}},{key:"removeElement",value:function(e){for(var t=this.head,n=null;null!=t;){if(t.element===e)return null==n?this.head=t.next:n.next=t.next,this.size--,t.element;n=t,t=t.next}return-1}}]),e}();function V(){return(V=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("https://relationship-builder.herokuapp.com/table/persons");case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}!function(){V.apply(this,arguments)}();var J,M=function(e){for(var t=[],n=function(n){var r=e[n];t[n]=a.body.find((function(e){if(e.id==r)return!0})).name},r=0;r<e.length;r++)n(r);return t},W=function(){function e(t){Object(l.a)(this,e),this.path=[],this.v=t+1,this.adjList=new Array,this.initAdjList()}return Object(u.a)(e,[{key:"initAdjList",value:function(){for(var e=0;e<this.v;e++)this.adjList.push(new U)}},{key:"addEdge",value:function(e,t){this.adjList[e].add(t)}},{key:"printAllPath",value:function(e,t){this.isVisited=new Array;for(var n=0;n<=this.v;n++)this.isVisited[n]=!1;return this.pathList=new Array,this.pathList.push(e),this.printAllPathsUtil(e,t,this.isVisited,this.pathList),this.path}},{key:"printAllPathsUtil",value:function(e,t,n,a){if(e!=t){n[e]=!0;for(var r=this.adjList[e].head;null!=r;r=r.next)n[r.element]||(a.push(r.element),this.printAllPathsUtil(r.element,t,n,a),a.pop());n[e]=!1}else{var i=M(a);this.path.push(i)}}}]),e}();function Y(e,t){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(j.a.mark((function e(t,n){var a,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("https://relationship-builder.herokuapp.com/table/persons");case 3:J=e.sent,a=new W(J.body.length),r=j.a.mark((function e(t){var n,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://relationship-builder.herokuapp.com/"+J.body[t].name);case 2:for(n=e.sent,r=function(e){var r=J.body.findIndex((function(t){if(t.name==n.body[e].relative_name)return!0})),i=J.body.findIndex((function(t){if(t.name==n.body[e].name)return!0}));n.body[e].name==J.body[t].name?a.addEdge(J.body[t].id,J.body[r].id):a.addEdge(J.body[t].id,J.body[i].id)},i=0;i<n.body.length;i++)r(i);case 5:case"end":return e.stop()}}),e)})),i=0;case 7:if(!(i<J.body.length)){e.next=12;break}return e.delegateYield(r(i),"t0",9);case 9:i++,e.next=7;break;case 12:return e.abrupt("return",a.printAllPath(t,n));case 15:e.prev=15,e.t1=e.catch(0),console.log("hello");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var H=function(e,t){return K.apply(this,arguments)};function K(){return(K=Object(m.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Y(t,n),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=P.a.Title,X=P.a.Text,Z=T.a.Item,$=function(){var e=Object(i.useState)({loading:!1}),t=Object(C.a)(e,2),n=t[0],a=t[1],s=[],o=Object(i.useState)({r:[],type:""}),c=Object(C.a)(o,2),l=c[0],u=c[1],d=T.a.useForm(),h=Object(C.a)(d,1)[0],p=function(e){for(var t="",n=0;n<e.length;n++){for(var a=0;a<e[n].length;a++)t=a==e[n].length-1?t+e[n][a]+"":t+e[n][a]+"--\x3e";s.push(t),t=""}u({r:s,type:"success"}),console.log(l.r)},b=function(){var e=Object(m.a)(j.a.mark((function e(t){var n,r,i,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({loading:!0}),h.resetFields(),e.prev=2,e.next=5,I.a.get("https://relationship-builder.herokuapp.com/table/persons");case 5:if(r=e.sent,i=r.body,console.log(i),o=i.filter((function(e){return e.name==t.person1.trim()})),c=i.filter((function(e){return e.name==t.person2.trim()})),console.log(o[0]),console.log(c[0]),0===o.length||0===c.length){e.next=21;break}return e.next=15,H(o[0].id,c[0].id);case 15:n=e.sent,console.log(n),s=[],p(n),e.next=25;break;case 21:console.log(t),s.push("There is no Relation Between "+t.person1+" & "+t.person2),u({r:s,type:"danger"}),s=[];case 25:a({loading:!1}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(2),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[2,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"degree",children:[Object(r.jsx)(A.a,{}),Object(r.jsx)(Q,{children:"Degree Of Seperation"}),Object(r.jsxs)(T.a,{layout:"inline",form:h,onFinish:b,className:"center form",children:[Object(r.jsx)(Z,{name:"person1",rules:[{required:!0,message:"Please input Person1"}],children:Object(r.jsx)(g.a,{prefix:Object(r.jsx)(L.a,{style:{fontSize:13}}),Placeholder:"Person 1",allowClear:"true"})}),Object(r.jsx)(Z,{name:"person2",rules:[{required:!0,message:"Please input Person2"}],children:Object(r.jsx)(g.a,{prefix:Object(r.jsx)(L.a,{style:{fontSize:13}}),Placeholder:"Person 2",allowClear:"true"})}),Object(r.jsx)(Z,{children:Object(r.jsx)(F.a,{type:"primary",htmlType:"submit",loading:n.loading,children:"Find"})})]}),Object(r.jsx)("div",{className:"output_container",children:l.r.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(X,{type:l.type,children:e})})}))})]})},ee=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(q,{}),Object(r.jsx)($,{})]})}}]),n}(i.Component),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))},ne=P.a.Title;c.a.render(Object(r.jsxs)(s.a.StrictMode,{children:[Object(r.jsx)(ne,{className:"title",children:"Relationship App"}),Object(r.jsx)(A.a,{}),Object(r.jsx)(ee,{}),Object(r.jsx)("div",{className:"em"})]}),document.getElementById("root")),te()}},[[241,1,2]]]);
//# sourceMappingURL=main.10deb9bd.chunk.js.map